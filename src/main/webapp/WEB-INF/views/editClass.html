<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">


<head>
    <meta charset="UTF-8"/>
    <title>教师系统</title>
    <link rel="stylesheet" href="../../css/my.css" th:href="@{/css/my.css}"/>
    <link rel="stylesheet" href="../../css/style.css" th:href="@{/css/style.css}"/>
    <link rel="stylesheet" href="../../css/bootstrap.css" th:href="@{/css/bootstrap.css}"/>
    <link rel="stylesheet" href="../../css/bootstrap-theme.css" th:href="@{/css/bootstrap-theme.css}"/>
</head>
<!-- Licien 2016-11-4 -->
<body>
<div class="jumbotron pageTop" style="padding-top: 10px; margin-bottom: 0px;"
     th:substituteby="htmlModel :: commonTop"></div>
<!-- 头部文件 -->
<div class="h_pageContent">
    <nav id="navbar-example" class="navbar" role="navigation" style="border-radius: inherit;"
         th:substituteby="htmlModel :: guilderTop">
    </nav>
    <!-- /top Guider -->
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10">
            <div class="wrapper">
                <nav class="h_leftMenu" th:substituteby="htmlModel :: menuLeft"></nav>
                <div class="h_right-content">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">编辑课程信息</h3>
                        </div>
                        <div class="panel-body paddingbuttom40px">
                            <div class="form-group">
                                <label>课程列表</label>
                                <div class="list-group">
                                    <div th:each="course : ${courses }">
                                        <a href="javascript:;" class="list-group-item courseItem">
                                            <div class="row">
                                                <div class="col-md-3" th:text="${course.id}">
                                                    100010
                                                </div>
                                                <div class="col-md-3 cname" name="cname" th:text="${course.name}">
                                                    J2EE应用程序设计
                                                </div>
                                                <div class="col-md-3 cendweek" name="cendweek" th:text="第${course.end_week}周结课">
                                                    第1周结课
                                                </div>
                                                <div class="col-md-3">
                                                    <input class="cstartweek" type="text" hidden="hidden" th:value="${course.start_week }"/>
                                                    <input class="csection" type="text" hidden="hidden" th:value="${course.section }"/>
                                                    <input class="cdayweek" type="text" hidden="hidden" th:value="${course.day_for_week }"/>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <hr/>
                            </div>
                            <br/>
                            <div class="form-group">
                                <h4><b>编辑课程信息</b></h4>
                            </div>
                            <form role="form" id="updateCourseForm">
                                <div class="form-group">
                                    <label>课程名称</label>
                                    <input type="text" class="form-control" name="name" id="name"
                                           th:name="name" autofocus="autofocus" placeholder="请输入课程名称(必填)"/>
                                </div>
                                <div class="form-group">
                                    <label>当前学期</label>
                                    <input type="text" class="form-control"
                                           placeholder="2016-2017学年第一学期" disabled="disabled"/>
                                </div>
                                <div class="form-group">
                                    <label>上课周次</label>
                                    <div class="input-group">
                                        <select class="form-control" name="start_week" id="start_week"
                                                th:name="start_week">
                                            <!-- 通过jquery添加选项 -->
                                        </select>
                                        <span class="input-group-addon fix-border fix-padding"></span>
                                        <select class="form-control" name="end_week" id="end_week" th:name="end_week">
                                            <!-- 通过jquery添加选项 -->
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>上课日期</label>
                                    <div class="input-group" id="weekGroup">
                                    </div>
                                </div>
                                <!-- /每周上课的日期 -->
                                <div class="form-group">
                                    <label>上课节次</label>
                                    <!-- 不考虑每周上课时间不一样 -->
                                    <div class="input-group" id="sectionGroup">
                                    </div>
                                </div>
                                <!-- 上课当天的节次 -->
                                <div class="orm-group margintop100px" align="center">
                                    <button type="submit" class="h_buttonStyle btn btn-primary" id="btnsubmit">保存课程</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- /this is panel -->
                </div>
                <!-- /this is right-content -->
            </div>
        </div>
        <div class="col-md-1"></div>
    </div>
</div>
<!-- this is content -->
<div class="h_pageBottom" th:substituteby="htmlModel :: commonBottom"></div>
<!-- this is buttom -->
<script type="text/javascript" src="../../js/jquery-3.1.1.min.js"
        th:src="@{/js/jquery-3.1.1.min.js}"></script>
<script type="text/javascript" src="../../js/bootstrap.min.js"
        th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript" src="../../js/my.js"
        th:src="@{/js/my.js}"></script>
<script>
    $('.dropdown-toggle').dropdown();

    $(document).ready(function () {
        var flag = 1;
        var endFlag = 20;
        var htmlContent;
        while (flag <= endFlag) {
            htmlContent += "<option " + "value='" + flag + "'>第" + flag + "周</option>";
            flag++;
        }
        $("#start_week").append(htmlContent);
    });
    $("#start_week").click(function () {
        $("#end_week").empty();
        $("#end_week").append("<option>请选择结束上课周次</option>");
        var flag = $("#start_week").val();
        var endFlag = 20;
        var htmlContent;
        while (flag <= endFlag) {
            htmlContent += "<option " + "value='" + flag + "'>第" + flag + "周</option>";
            flag++;
        }
        $("#end_week").append(htmlContent);
    });

    $(".courseItem").click(function () {
        alert("asfasf");
        var startContent = "<option th:text='"+ 1 +"' th:value='" + 1 + "' selected='selected'>第一周</option>";
        var endContent="<option th:text='"+ 1 +"' th:value='" + 1 + "' selected='selected'>第一周</option>";
        var sectionContent = "";
        var weekContent = "";
        var sectionflag = 1;   //节次
        var weekflag = 1;      //周次
        /* 设定节次的选项--单选 */
        while (sectionflag < 5){
            if(sectionflag == $(this).find(".csection").val()){
                sectionContent += "<label class='radio-inline'><input type='radio' " +
                        "name='section' value='1' checked='checked'>第" + sectionflag + "大节</label>";
            } else {
                sectionContent += "<label class='radio-inline'><input type='radio' " +
                        "name='section' value='1'>第" + sectionflag + "大节</label>";
            }
            sectionflag++;
        }
        /* 设定周次的选项--多选 */
        while (weekflag < 6){
            if($(this).find(".cdayweek").val().indexOf(weekflag) >= 0){
                weekContent += "<label class='checkbox-inline'><input type='checkbox' " +
                        "name='day_for_week' value='1' checked='checked'>星期" + weekflag + "</label>";
            } else {
                weekContent += "<label class='checkbox-inline'><input type='checkbox' " +
                        "name='day_for_week' value='1'>星期" + weekflag + "</label>";
            }
            weekflag++;
        }

        $("#name").val();
        $("#start_week").append(startContent);
        $("#end_week").append(endContent);
        $("#sectionGroup").append();
        $("#weekGroup").append();
        return false;
    });
</script>
</body>

</html>